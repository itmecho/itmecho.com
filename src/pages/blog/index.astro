---
import Layout from '@layouts/Layout.astro';
import { Post } from '@lib/blog.ts';
import BlogPostPreview from '@components/BlogPostPreview.astro';

const allPosts = await Astro.glob('./*.md');
const posts: Post[] = allPosts.sort(
  (a, b) =>
    new Date(b.frontmatter.date).valueOf() -
    new Date(a.frontmatter.date).valueOf()
);
---

<Layout title='Blog'>
  <ul class='flex flex-col gap-8'>
    {posts.map((post) => (
      <li>
        <BlogPostPreview post={post} />
      </li>
    ))}
    <ul></ul>
  </ul>
</Layout>
